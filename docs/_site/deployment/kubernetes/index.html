<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kubernetes Deployment | Prisma AIRS MCP</title>
  <meta name="description" content="Deploy Prisma AIRS MCP on Kubernetes">
  
  <!-- SEO Tags -->
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Kubernetes Deployment | Prisma AIRS MCP</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Kubernetes Deployment" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Deploy Prisma AIRS MCP on Kubernetes" />
<meta property="og:description" content="Deploy Prisma AIRS MCP on Kubernetes" />
<link rel="canonical" href="http://localhost:4000/deployment/kubernetes/" />
<meta property="og:url" content="http://localhost:4000/deployment/kubernetes/" />
<meta property="og:site_name" content="Prisma AIRS MCP" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Kubernetes Deployment" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Deploy Prisma AIRS MCP on Kubernetes","headline":"Kubernetes Deployment","url":"http://localhost:4000/deployment/kubernetes/"}</script>
<!-- End Jekyll SEO tag -->

  
  <!-- Styles -->
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Rouge syntax highlighting is handled by Jekyll -->
  
  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png">
</head>
<body>
  <nav class="navbar">
    <div class="container">
      <div class="navbar-brand">
        <a href="/" class="navbar-logo">
          <i class="fas fa-shield-alt"></i>
          Prisma AIRS MCP
        </a>
      </div>
      <div class="navbar-menu">
        <a href="/deployment" class="navbar-item active">Deployment</a>
        <a href="/developers" class="navbar-item ">Developers</a>
        <a href="/prisma-airs/overview" class="navbar-item ">Prisma AIRS</a>
        <a href="https://github.com/cdot65/prisma-airs-mcp" class="navbar-item">
          <i class="fab fa-github"></i>
        </a>
      </div>
    </div>
  </nav>

  <div class="documentation-layout">
    <aside class="sidebar">
      
<nav class="sidebar-nav">
  <h4>Getting Started</h4>
  <ul>
    <li><a href="/deployment/overview/" >Deployment Overview</a></li>
    <li><a href="/deployment/quickstart/" >Quick Start Guide</a></li>
  </ul>
  
  <h4>Configuration</h4>
  <ul>
    <li><a href="/deployment/configuration/" >Configuration Reference</a></li>
  </ul>
  
  <h4>Deployment Documentation</h4>
  <ul>
    <li><a href="/deployment/docker/" >Docker</a></li>
    <li><a href="/deployment/docker-compose/" >Docker Compose</a></li>
    <li><a href="/deployment/source/" >Build from Source</a></li>
    <li><a href="/deployment/kubernetes/" class="active">Kubernetes</a></li>
    <li><a href="/deployment/docker-build-options/" >Docker Build Options</a></li>
  </ul>
  
  <h4>MCP Client Config</h4>
  <ul>
    <li><a href="/deployment/mcp/vscode/" >VSCode</a></li>
    <li><a href="/deployment/mcp/claude-desktop/" >Claude Desktop</a></li>
    <li><a href="/deployment/mcp/claude-code/" >Claude Code</a></li>
  </ul>
</nav>



<style>
.sidebar-nav {
  padding: var(--spacing-md);
}

.sidebar-nav h4 {
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--gray);
  margin-bottom: var(--spacing-sm);
  margin-top: var(--spacing-lg);
}

.sidebar-nav h4:first-child {
  margin-top: 0;
}

.sidebar-nav ul {
  list-style: none;
  padding: 0;
  margin: 0 0 var(--spacing-md) 0;
}

.sidebar-nav li {
  margin-bottom: var(--spacing-xs);
}

.sidebar-nav a {
  display: block;
  padding: var(--spacing-xs) var(--spacing-sm);
  color: var(--dark);
  border-radius: var(--border-radius);
  font-size: 0.9375rem;
  transition: all 0.2s ease;
}

.sidebar-nav a:hover {
  background-color: var(--gray-light);
  text-decoration: none;
}

.sidebar-nav a.active {
  background-color: var(--primary);
  color: var(--white);
  font-weight: 500;
}

.sidebar-nav a.active:hover {
  background-color: var(--primary-dark);
}
</style>
    </aside>
    
    <main class="documentation-content">
      <div class="content-header">
        <h1>Kubernetes Deployment</h1>
        
        <p class="lead">Deploy Prisma AIRS MCP on Kubernetes</p>
        
      </div>
      
      <article class="content">
        <h2 id="overview">Overview</h2>

<p>Kubernetes deployment provides production-grade features including high availability, automatic scaling, and zero-downtime deployments. This guide covers deploying Prisma AIRS MCP to Kubernetes with Traefik Ingress Controller.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>Kubernetes cluster (1.24+)</li>
  <li>kubectl configured with cluster access</li>
  <li>Traefik Ingress Controller (for HTTPS routing)</li>
  <li>Prisma AIRS API key from <a href="https://stratacloudmanager.paloaltonetworks.com">Strata Cloud Manager</a></li>
</ul>

<h2 id="quick-start">Quick Start</h2>

<h3 id="1-clone-the-repository">1. Clone the Repository</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Clone for Kubernetes manifests</span>
git clone https://github.com/cdot65/prisma-airs-mcp.git
<span class="nb">cd </span>prisma-airs-mcp
</code></pre></div></div>

<h3 id="2-create-namespace">2. Create Namespace</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl create namespace prisma-airs-mcp-server
</code></pre></div></div>

<h3 id="3-create-secret">3. Create Secret</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create secret with API key and profile</span>
kubectl create secret generic prisma-airs-secret <span class="se">\</span>
  <span class="nt">--from-literal</span><span class="o">=</span>api-key<span class="o">=</span>your-api-key-here <span class="se">\</span>
  <span class="nt">--from-literal</span><span class="o">=</span>profile-name<span class="o">=</span><span class="s2">"Prisma AIRS"</span> <span class="se">\</span>
  <span class="nt">-n</span> prisma-airs-mcp-server
</code></pre></div></div>

<h3 id="4-deploy-application">4. Deploy Application</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Deploy using Kustomize</span>
kubectl apply <span class="nt">-k</span> k8s/overlays/production

<span class="c"># Check deployment status</span>
kubectl get pods <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Get service details</span>
kubectl get svc <span class="nt">-n</span> prisma-airs-mcp-server
</code></pre></div></div>

<h3 id="5-verify-deployment">5. Verify Deployment</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check pod logs</span>
kubectl logs <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>prisma-airs-mcp <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Port-forward to test locally</span>
kubectl port-forward <span class="nt">-n</span> prisma-airs-mcp-server svc/prisma-airs-mcp 3000:3000

<span class="c"># Test health endpoint</span>
curl http://localhost:3000/health
</code></pre></div></div>

<h2 id="architecture">Architecture</h2>

<h3 id="components">Components</h3>

<p>The Kubernetes deployment includes:</p>

<ol>
  <li><strong>Deployment</strong> - Manages pod replicas with rolling updates</li>
  <li><strong>Service</strong> - Internal load balancing for pods</li>
  <li><strong>ConfigMap</strong> - Non-sensitive configuration</li>
  <li><strong>Secret</strong> - API keys and sensitive data</li>
  <li><strong>IngressRoute</strong> - Traefik routing configuration</li>
  <li><strong>NetworkPolicy</strong> - Network security rules</li>
</ol>

<h3 id="resource-structure">Resource Structure</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>k8s/
├── base/                    # Base Kubernetes resources
│   ├── kustomization.yaml
│   ├── deployment.yaml
│   ├── service.yaml
│   └── configmap.yaml
└── overlays/               # Environment-specific configs
    ├── development/
    ├── staging/
    └── production/
        ├── kustomization.yaml
        ├── deployment-patch.yaml
        └── ingressroute-patch.yaml
</code></pre></div></div>

<h2 id="traefik-ingressroute">Traefik IngressRoute</h2>

<h3 id="overview-1">Overview</h3>

<p>The deployment uses Traefik IngressRoute for:</p>

<ul>
  <li>Path-based routing (<code class="language-plaintext highlighter-rouge">/prisma-airs</code> → service)</li>
  <li>Automatic path stripping</li>
  <li>Security headers</li>
  <li>Rate limiting</li>
  <li>TLS termination</li>
</ul>

<h3 id="default-configuration">Default Configuration</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">traefik.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">IngressRoute</span>
<span class="na">metadata</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">prisma-airs-mcp-route</span>
<span class="na">spec</span><span class="pi">:</span>
    <span class="na">routes</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">match</span><span class="pi">:</span> <span class="s">Host(`your-domain.com`) &amp;&amp; PathPrefix(`/prisma-airs`)</span>
          <span class="na">kind</span><span class="pi">:</span> <span class="s">Rule</span>
          <span class="na">services</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">prisma-airs-mcp</span>
                <span class="na">port</span><span class="pi">:</span> <span class="m">3000</span>
          <span class="na">middlewares</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">strip-prisma-airs-prefix</span>
              <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">security-headers</span>
</code></pre></div></div>

<h3 id="path-routing">Path Routing</h3>

<p>The IngressRoute configuration:</p>

<ol>
  <li>Matches requests to <code class="language-plaintext highlighter-rouge">/prisma-airs/*</code></li>
  <li>Strips the <code class="language-plaintext highlighter-rouge">/prisma-airs</code> prefix</li>
  <li>Forwards to the MCP service on port 3000</li>
</ol>

<p>Example routing:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">https://your-domain.com/prisma-airs</code> → <code class="language-plaintext highlighter-rouge">http://service:3000/</code></li>
  <li><code class="language-plaintext highlighter-rouge">https://your-domain.com/prisma-airs/health</code> → <code class="language-plaintext highlighter-rouge">http://service:3000/health</code></li>
</ul>

<h2 id="tlsssl-configuration">TLS/SSL Configuration</h2>

<h3 id="option-1-lets-encrypt-automatic">Option 1: Let’s Encrypt (Automatic)</h3>

<p>Using cert-manager for automatic certificates:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install cert-manager</span>
kubectl apply <span class="nt">-f</span> https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml

<span class="c"># Create ClusterIssuer</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> | kubectl apply -f -
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt-prod
spec:
  acme:
    server: https://acme-v02.api.letsencrypt.org/directory
    email: your-email@example.com
    privateKeySecretRef:
      name: letsencrypt-prod
    solvers:
    - http01:
        ingress:
          class: traefik
</span><span class="no">EOF

</span><span class="c"># Update IngressRoute with TLS</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> | kubectl apply -f -
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: prisma-airs-mcp-route
  namespace: prisma-airs-mcp-server
spec:
  entryPoints:
    - websecure
  routes:
    - match: Host(`your-domain.com`) &amp;&amp; PathPrefix(`/prisma-airs`)
      kind: Rule
      services:
        - name: prisma-airs-mcp
          port: 3000
  tls:
    certResolver: letsencrypt
</span><span class="no">EOF
</span></code></pre></div></div>

<h3 id="option-2-manual-certificate">Option 2: Manual Certificate</h3>

<p>Using existing certificates:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create TLS secret</span>
kubectl create secret tls prisma-airs-tls <span class="se">\</span>
  <span class="nt">--cert</span><span class="o">=</span>path/to/tls.crt <span class="se">\</span>
  <span class="nt">--key</span><span class="o">=</span>path/to/tls.key <span class="se">\</span>
  <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Reference in IngressRoute</span>
spec:
  tls:
    secretName: prisma-airs-tls
</code></pre></div></div>

<h3 id="option-3-wildcard-certificate">Option 3: Wildcard Certificate</h3>

<p>Copy existing wildcard certificate:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Run the provided script</span>
./k8s/scripts/copy-tls-cert.sh

<span class="c"># Or manually copy</span>
kubectl get secret wildcard-cert <span class="nt">-n</span> source-namespace <span class="nt">-o</span> yaml | <span class="se">\</span>
  <span class="nb">sed</span> <span class="s1">'s/namespace: source-namespace/namespace: prisma-airs-mcp-server/'</span> | <span class="se">\</span>
  kubectl apply <span class="nt">-f</span> -
</code></pre></div></div>

<h2 id="customization">Customization</h2>

<h3 id="domain-configuration">Domain Configuration</h3>

<p>Edit <code class="language-plaintext highlighter-rouge">k8s/overlays/production/ingressroute-patch.yaml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">op</span><span class="pi">:</span> <span class="s">replace</span>
  <span class="na">path</span><span class="pi">:</span> <span class="s">/spec/routes/0/match</span>
  <span class="na">value</span><span class="pi">:</span> <span class="s">Host(`your-domain.com`) &amp;&amp; PathPrefix(`/prisma-airs`)</span>
</code></pre></div></div>

<p>Apply changes:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl apply <span class="nt">-k</span> k8s/overlays/production
</code></pre></div></div>

<h3 id="resource-limits">Resource Limits</h3>

<p>Customize in <code class="language-plaintext highlighter-rouge">k8s/overlays/production/deployment-patch.yaml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">resources</span><span class="pi">:</span>
    <span class="na">limits</span><span class="pi">:</span>
        <span class="na">cpu</span><span class="pi">:</span> <span class="s1">'</span><span class="s">2'</span>
        <span class="na">memory</span><span class="pi">:</span> <span class="s1">'</span><span class="s">1Gi'</span>
    <span class="na">requests</span><span class="pi">:</span>
        <span class="na">cpu</span><span class="pi">:</span> <span class="s1">'</span><span class="s">500m'</span>
        <span class="na">memory</span><span class="pi">:</span> <span class="s1">'</span><span class="s">256Mi'</span>
</code></pre></div></div>

<h3 id="scaling">Scaling</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Manual scaling</span>
kubectl scale deployment prisma-airs-mcp <span class="nt">-n</span> prisma-airs-mcp-server <span class="nt">--replicas</span><span class="o">=</span>3

<span class="c"># Autoscaling</span>
kubectl autoscale deployment prisma-airs-mcp <span class="se">\</span>
  <span class="nt">-n</span> prisma-airs-mcp-server <span class="se">\</span>
  <span class="nt">--cpu-percent</span><span class="o">=</span>70 <span class="se">\</span>
  <span class="nt">--min</span><span class="o">=</span>2 <span class="se">\</span>
  <span class="nt">--max</span><span class="o">=</span>10
</code></pre></div></div>

<h2 id="deployment-scripts">Deployment Scripts</h2>

<h3 id="quick-deployment">Quick Deployment</h3>

<p>The project includes deployment scripts:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Development deployment</span>
./k8s/scripts/deploy.sh dev

<span class="c"># Staging deployment</span>
./k8s/scripts/deploy.sh staging

<span class="c"># Production deployment</span>
./k8s/scripts/deploy.sh prod
</code></pre></div></div>

<h3 id="rollback">Rollback</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># View deployment history</span>
kubectl rollout <span class="nb">history </span>deployment/prisma-airs-mcp <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Rollback to previous version</span>
kubectl rollout undo deployment/prisma-airs-mcp <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Rollback to specific revision</span>
kubectl rollout undo deployment/prisma-airs-mcp <span class="nt">-n</span> prisma-airs-mcp-server <span class="nt">--to-revision</span><span class="o">=</span>2
</code></pre></div></div>

<h2 id="monitoring">Monitoring</h2>

<h3 id="health-checks">Health Checks</h3>

<p>The deployment includes:</p>

<ul>
  <li><strong>Liveness Probe</strong>: Restarts unhealthy pods</li>
  <li><strong>Readiness Probe</strong>: Controls traffic routing</li>
  <li><strong>Startup Probe</strong>: Allows slow startup</li>
</ul>

<h3 id="view-logs">View Logs</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># All pods</span>
kubectl logs <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>prisma-airs-mcp <span class="nt">-n</span> prisma-airs-mcp-server <span class="nt">-f</span>

<span class="c"># Specific pod</span>
kubectl logs prisma-airs-mcp-xxxxx <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Previous pod logs</span>
kubectl logs prisma-airs-mcp-xxxxx <span class="nt">-n</span> prisma-airs-mcp-server <span class="nt">--previous</span>
</code></pre></div></div>

<h3 id="metrics">Metrics</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Resource usage</span>
kubectl top pods <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Detailed pod information</span>
kubectl describe pod prisma-airs-mcp-xxxxx <span class="nt">-n</span> prisma-airs-mcp-server
</code></pre></div></div>

<h2 id="security">Security</h2>

<h3 id="network-policies">Network Policies</h3>

<p>The deployment includes NetworkPolicy for:</p>

<ul>
  <li>Ingress only from Traefik</li>
  <li>Egress to AIRS API endpoints</li>
  <li>DNS resolution</li>
</ul>

<h3 id="pod-security">Pod Security</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">securityContext</span><span class="pi">:</span>
    <span class="na">runAsNonRoot</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">runAsUser</span><span class="pi">:</span> <span class="m">1000</span>
    <span class="na">fsGroup</span><span class="pi">:</span> <span class="m">1000</span>
    <span class="na">capabilities</span><span class="pi">:</span>
        <span class="na">drop</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">ALL</span>
</code></pre></div></div>

<h3 id="secret-management">Secret Management</h3>

<p>For production, consider:</p>

<ul>
  <li>Sealed Secrets</li>
  <li>External Secrets Operator</li>
  <li>HashiCorp Vault</li>
  <li>Cloud provider secret managers</li>
</ul>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="common-issues">Common Issues</h3>

<p><strong>Pods Not Starting</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check pod events</span>
kubectl describe pod prisma-airs-mcp-xxxxx <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Check logs</span>
kubectl logs prisma-airs-mcp-xxxxx <span class="nt">-n</span> prisma-airs-mcp-server
</code></pre></div></div>

<p><strong>IngressRoute Not Working</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check IngressRoute status</span>
kubectl get ingressroute <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Check Traefik logs</span>
kubectl logs <span class="nt">-n</span> traefik-system deployment/traefik | <span class="nb">grep </span>prisma-airs

<span class="c"># Verify middleware</span>
kubectl get middleware <span class="nt">-n</span> prisma-airs-mcp-server
</code></pre></div></div>

<p><strong>Secret Issues</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Verify secret exists</span>
kubectl get secret prisma-airs-secret <span class="nt">-n</span> prisma-airs-mcp-server

<span class="c"># Check secret content (base64 encoded)</span>
kubectl get secret prisma-airs-secret <span class="nt">-n</span> prisma-airs-mcp-server <span class="nt">-o</span> yaml
</code></pre></div></div>

<h3 id="debugging">Debugging</h3>

<p><strong>Access Pod Shell</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl <span class="nb">exec</span> <span class="nt">-it</span> prisma-airs-mcp-xxxxx <span class="nt">-n</span> prisma-airs-mcp-server <span class="nt">--</span> sh
</code></pre></div></div>

<p><strong>Port Forwarding</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Forward to local port</span>
kubectl port-forward <span class="nt">-n</span> prisma-airs-mcp-server svc/prisma-airs-mcp 3000:3000

<span class="c"># Test locally</span>
curl http://localhost:3000/health
</code></pre></div></div>

<p><strong>Check DNS Resolution</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># From within pod</span>
kubectl <span class="nb">exec</span> <span class="nt">-it</span> prisma-airs-mcp-xxxxx <span class="nt">-n</span> prisma-airs-mcp-server <span class="nt">--</span> nslookup service.api.aisecurity.paloaltonetworks.com
</code></pre></div></div>

<h2 id="enterprise-features">Enterprise Features</h2>

<h3 id="scalability--performance">Scalability &amp; Performance</h3>

<h4 id="performance-metrics">Performance Metrics</h4>

<ul>
  <li><strong>Throughput</strong>: 10,000+ requests/second per pod</li>
  <li><strong>Latency</strong>: &lt;100ms p99 (with caching)</li>
  <li><strong>Availability</strong>: 99.9% uptime</li>
  <li><strong>Scaling</strong>: Auto-scales from 2 to 50 pods</li>
</ul>

<h4 id="optimization-strategies">Optimization Strategies</h4>

<ol>
  <li><strong>Intelligent Caching</strong>
    <ul>
      <li>In-memory cache with 5-minute TTL</li>
      <li>Cache hit rate &gt;80% for repeated scans</li>
      <li>Automatic cache invalidation</li>
    </ul>
  </li>
  <li><strong>Connection Pooling</strong>
    <ul>
      <li>Reuse HTTPS connections to AIRS API</li>
      <li>Configurable pool size and timeout</li>
      <li>Automatic retry with exponential backoff</li>
    </ul>
  </li>
  <li><strong>Resource Optimization</strong>
    <ul>
      <li>CPU: 0.5-2 cores per pod</li>
      <li>Memory: 512MB-2GB per pod</li>
      <li>Efficient memory management</li>
    </ul>
  </li>
</ol>

<h3 id="security--compliance">Security &amp; Compliance</h3>

<h4 id="security-features">Security Features</h4>

<ul>
  <li><strong>Encryption</strong>: TLS 1.3 for all communications</li>
  <li><strong>Authentication</strong>: API key management with rotation</li>
  <li><strong>Authorization</strong>: Role-based access control (RBAC)</li>
  <li><strong>Audit Logging</strong>: Complete audit trail for compliance</li>
  <li><strong>Network Security</strong>: Kubernetes network policies</li>
</ul>

<h4 id="compliance-considerations">Compliance Considerations</h4>

<ul>
  <li>SOC 2 Type II compliant architecture</li>
  <li>ISO 27001 security controls</li>
  <li>GDPR-ready with data privacy features</li>
  <li>HIPAA-compliant deployment options</li>
</ul>

<h3 id="monitoring--operations">Monitoring &amp; Operations</h3>

<h4 id="monitoring-stack">Monitoring Stack</h4>

<ul>
  <li><strong>Metrics</strong>: Prometheus for metrics collection</li>
  <li><strong>Visualization</strong>: Grafana dashboards</li>
  <li><strong>Logging</strong>: Structured JSON logging</li>
  <li><strong>Alerting</strong>: Configure alerts for key metrics</li>
</ul>

<h4 id="key-metrics-to-monitor">Key Metrics to Monitor</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Example Prometheus queries</span>
<span class="pi">-</span> <span class="na">Total Requests</span><span class="pi">:</span> <span class="s">sum(rate(http_requests_total[5m]))</span>
<span class="pi">-</span> <span class="na">Error Rate</span><span class="pi">:</span> <span class="s">sum(rate(http_requests_total{status=~"5.."}[5m]))</span>
<span class="pi">-</span> <span class="na">P99 Latency</span><span class="pi">:</span> <span class="s">histogram_quantile(0.99, http_request_duration_seconds)</span>
<span class="pi">-</span> <span class="na">Cache Hit Rate</span><span class="pi">:</span> <span class="s">sum(rate(cache_hits_total[5m])) / sum(rate(cache_requests_total[5m]))</span>
</code></pre></div></div>

<h3 id="multi-region-deployment">Multi-Region Deployment</h3>

<p>Deploy to multiple regions for global availability:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Deploy to us-east</span>
kubectl <span class="nt">--context</span><span class="o">=</span>us-east apply <span class="nt">-k</span> k8s/overlays/production

<span class="c"># Deploy to eu-west</span>
kubectl <span class="nt">--context</span><span class="o">=</span>eu-west apply <span class="nt">-k</span> k8s/overlays/production
</code></pre></div></div>

<h3 id="backup-and-disaster-recovery">Backup and Disaster Recovery</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Backup configuration</span>
kubectl get all,cm,secret,ingressroute <span class="nt">-n</span> prisma-airs-mcp-server <span class="nt">-o</span> yaml <span class="o">&gt;</span> backup.yaml

<span class="c"># Restore from backup</span>
kubectl apply <span class="nt">-f</span> backup.yaml
</code></pre></div></div>

<h2 id="next-steps">Next Steps</h2>

<ul>
  <li>Review the <a href="/deployment/configuration">Configuration Reference</a></li>
  <li>Set up monitoring with Prometheus/Grafana</li>
  <li>Configure alerts for production</li>
  <li>Implement CI/CD pipeline</li>
  <li>Optimize performance and caching</li>
  <li>Plan for disaster recovery</li>
</ul>

      </article>
      
      <div class="content-footer">
        <div class="edit-page">
          <a href="https://github.com/cdot65/prisma-airs-mcp/edit/main/docs/_deployment/kubernetes.md">
            <i class="fas fa-edit"></i> Edit this page on GitHub
          </a>
        </div>
        
        
        <div class="pagination">
          
          
          <a href="/deployment/mcp/claude-code/" class="next">
            Claude Code Integration <i class="fas fa-arrow-right"></i>
          </a>
          
        </div>
        
      </div>
    </main>
    
    <aside class="toc">
      <h4>On this page</h4>
      <nav id="table-of-contents"></nav>
    </aside>
  </div>

  <!-- Syntax highlighting is handled by Jekyll Rouge -->
  <script src="/assets/js/main.js"></script>
</body>
</html>