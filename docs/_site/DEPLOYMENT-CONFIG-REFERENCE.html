<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Deployment Configuration Quick Reference - Prisma AIRS MCP</title>
  <meta name="description" content="AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection">
  
  <!-- SEO -->
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Deployment Configuration Quick Reference" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection" />
<meta property="og:description" content="AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection" />
<link rel="canonical" href="https://cdot65.github.io/prisma-airs-mcp/DEPLOYMENT-CONFIG-REFERENCE.html" />
<meta property="og:url" content="https://cdot65.github.io/prisma-airs-mcp/DEPLOYMENT-CONFIG-REFERENCE.html" />
<meta property="og:site_name" content="Prisma AIRS MCP" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Deployment Configuration Quick Reference" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection","headline":"Deployment Configuration Quick Reference","url":"https://cdot65.github.io/prisma-airs-mcp/DEPLOYMENT-CONFIG-REFERENCE.html"}</script>
<!-- End Jekyll SEO tag -->

  
  <!-- CSS -->
  <link rel="stylesheet" href="/prisma-airs-mcp/assets/css/style.css">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/prisma-airs-mcp/assets/favicon.png">
</head>
<body>
  <h1 id="deployment-configuration-quick-reference">Deployment Configuration Quick Reference</h1>

<p>This is a quick reference for all configuration points when deploying Prisma AIRS MCP server.</p>

<h2 id="-secrets-sensitive-data">üîê Secrets (Sensitive Data)</h2>

<table>
  <thead>
    <tr>
      <th>Configuration</th>
      <th>Location</th>
      <th>Example</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>API Key</strong></td>
      <td>Kubernetes Secret</td>
      <td><code class="language-plaintext highlighter-rouge">your-prisma-airs-api-key-here</code></td>
      <td>‚úÖ Yes</td>
    </tr>
    <tr>
      <td><strong>GitHub PAT</strong></td>
      <td>Environment Variable</td>
      <td><code class="language-plaintext highlighter-rouge">ghp_xxxxxxxxxxxxxxxxxxxx</code></td>
      <td>‚úÖ Yes (for private registry)</td>
    </tr>
  </tbody>
</table>

<h3 id="creating-secrets">Creating Secrets:</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># API Key Secret</span>
./k8s/scripts/manage-secrets.sh create &lt;namespace&gt; <span class="s1">'&lt;api-key&gt;'</span>

<span class="c"># Registry Secret (uses CR_PAT or GITHUB_TOKEN env var)</span>
<span class="nb">export </span><span class="nv">CR_PAT</span><span class="o">=</span><span class="s1">'&lt;your-github-pat&gt;'</span>
./k8s/scripts/create-registry-secret.sh create
</code></pre></div></div>

<h2 id="-configmap-settings">üîß ConfigMap Settings</h2>

<table>
  <thead>
    <tr>
      <th>Configuration</th>
      <th>Key</th>
      <th>Default</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>API URL</strong></td>
      <td><code class="language-plaintext highlighter-rouge">airs.api.url</code></td>
      <td><code class="language-plaintext highlighter-rouge">https://service.api.aisecurity.paloaltonetworks.com</code></td>
      <td>Production URL</td>
    </tr>
    <tr>
      <td><strong>Profile Name</strong></td>
      <td><code class="language-plaintext highlighter-rouge">airs.default.profile.name</code></td>
      <td><code class="language-plaintext highlighter-rouge">Prisma AIRS</code></td>
      <td><code class="language-plaintext highlighter-rouge">My Security Profile</code></td>
    </tr>
    <tr>
      <td><strong>Profile ID</strong></td>
      <td><code class="language-plaintext highlighter-rouge">airs.default.profile.id</code></td>
      <td>None</td>
      <td><code class="language-plaintext highlighter-rouge">12345-67890-abcdef</code></td>
    </tr>
    <tr>
      <td><strong>Cache TTL</strong></td>
      <td><code class="language-plaintext highlighter-rouge">cache.ttl.seconds</code></td>
      <td><code class="language-plaintext highlighter-rouge">300</code></td>
      <td><code class="language-plaintext highlighter-rouge">60</code> (dev), <code class="language-plaintext highlighter-rouge">300</code> (prod)</td>
    </tr>
    <tr>
      <td><strong>Cache Size</strong></td>
      <td><code class="language-plaintext highlighter-rouge">cache.max.size</code></td>
      <td><code class="language-plaintext highlighter-rouge">1000</code></td>
      <td><code class="language-plaintext highlighter-rouge">500</code> - <code class="language-plaintext highlighter-rouge">2000</code></td>
    </tr>
    <tr>
      <td><strong>Rate Limit</strong></td>
      <td><code class="language-plaintext highlighter-rouge">rate.limit.max.requests</code></td>
      <td><code class="language-plaintext highlighter-rouge">100</code></td>
      <td><code class="language-plaintext highlighter-rouge">200</code> (dev), <code class="language-plaintext highlighter-rouge">100</code> (prod)</td>
    </tr>
    <tr>
      <td><strong>Rate Window</strong></td>
      <td><code class="language-plaintext highlighter-rouge">rate.limit.window.ms</code></td>
      <td><code class="language-plaintext highlighter-rouge">60000</code></td>
      <td><code class="language-plaintext highlighter-rouge">60000</code> (1 minute)</td>
    </tr>
  </tbody>
</table>

<h3 id="configmap-location">ConfigMap Location:</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># k8s/overlays/{environment}/kustomization.yaml</span>
<span class="na">configMapGenerator</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">prisma-airs-mcp-config</span>
  <span class="na">behavior</span><span class="pi">:</span> <span class="s">merge</span>
  <span class="na">literals</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">airs.default.profile.name=Your Profile Name</span>
  <span class="pi">-</span> <span class="s">cache.ttl.seconds=300</span>
</code></pre></div></div>

<h2 id="Ô∏è-kubernetes-resources">üèóÔ∏è Kubernetes Resources</h2>

<table>
  <thead>
    <tr>
      <th>Resource</th>
      <th>Configuration</th>
      <th>Location</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Namespace</strong></td>
      <td>Deployment namespace</td>
      <td><code class="language-plaintext highlighter-rouge">k8s/base/kustomization.yaml</code></td>
      <td><code class="language-plaintext highlighter-rouge">prisma-airs</code></td>
    </tr>
    <tr>
      <td><strong>Replicas</strong></td>
      <td>Pod count</td>
      <td><code class="language-plaintext highlighter-rouge">k8s/overlays/{env}/deployment-patch.yaml</code></td>
      <td>1 (dev), 2 (staging), 3 (prod)</td>
    </tr>
    <tr>
      <td><strong>CPU Request</strong></td>
      <td>Minimum CPU</td>
      <td>Deployment patch</td>
      <td><code class="language-plaintext highlighter-rouge">100m</code> (dev), <code class="language-plaintext highlighter-rouge">500m</code> (prod)</td>
    </tr>
    <tr>
      <td><strong>CPU Limit</strong></td>
      <td>Maximum CPU</td>
      <td>Deployment patch</td>
      <td><code class="language-plaintext highlighter-rouge">500m</code> (dev), <code class="language-plaintext highlighter-rouge">2000m</code> (prod)</td>
    </tr>
    <tr>
      <td><strong>Memory Request</strong></td>
      <td>Minimum RAM</td>
      <td>Deployment patch</td>
      <td><code class="language-plaintext highlighter-rouge">64Mi</code> (dev), <code class="language-plaintext highlighter-rouge">256Mi</code> (prod)</td>
    </tr>
    <tr>
      <td><strong>Memory Limit</strong></td>
      <td>Maximum RAM</td>
      <td>Deployment patch</td>
      <td><code class="language-plaintext highlighter-rouge">256Mi</code> (dev), <code class="language-plaintext highlighter-rouge">1Gi</code> (prod)</td>
    </tr>
    <tr>
      <td><strong>Log Level</strong></td>
      <td>Logging verbosity</td>
      <td>Deployment patch</td>
      <td><code class="language-plaintext highlighter-rouge">debug</code>, <code class="language-plaintext highlighter-rouge">info</code>, <code class="language-plaintext highlighter-rouge">warn</code>, <code class="language-plaintext highlighter-rouge">error</code></td>
    </tr>
  </tbody>
</table>

<h2 id="-ingress-configuration">üåê Ingress Configuration</h2>

<table>
  <thead>
    <tr>
      <th>Configuration</th>
      <th>Location</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Domain</strong></td>
      <td>IngressRoute</td>
      <td><code class="language-plaintext highlighter-rouge">airs.cdot.io</code></td>
    </tr>
    <tr>
      <td><strong>Path</strong></td>
      <td>IngressRoute</td>
      <td><code class="language-plaintext highlighter-rouge">/prisma-airs</code></td>
    </tr>
    <tr>
      <td><strong>TLS Secret</strong></td>
      <td>IngressRoute</td>
      <td><code class="language-plaintext highlighter-rouge">wildcard-cdot-io-tls</code></td>
    </tr>
    <tr>
      <td><strong>Strip Path</strong></td>
      <td>Middleware</td>
      <td><code class="language-plaintext highlighter-rouge">true</code> (removes prefix)</td>
    </tr>
  </tbody>
</table>

<h3 id="traefik-example">Traefik Example:</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># k8s/base/ingressroute.yaml</span>
<span class="na">routes</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">match</span><span class="pi">:</span> <span class="s">Host(`your-domain.com`) &amp;&amp; PathPrefix(`/your-path`)</span>
</code></pre></div></div>

<h2 id="-container-registry">üê≥ Container Registry</h2>

<table>
  <thead>
    <tr>
      <th>Configuration</th>
      <th>Location</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Registry URL</strong></td>
      <td>Scripts &amp; Kustomization</td>
      <td><code class="language-plaintext highlighter-rouge">ghcr.io</code></td>
    </tr>
    <tr>
      <td><strong>Username</strong></td>
      <td>Scripts</td>
      <td><code class="language-plaintext highlighter-rouge">cdot65</code></td>
    </tr>
    <tr>
      <td><strong>Image Name</strong></td>
      <td>Scripts &amp; Kustomization</td>
      <td><code class="language-plaintext highlighter-rouge">prisma-airs-mcp</code></td>
    </tr>
    <tr>
      <td><strong>Image Tag</strong></td>
      <td>Overlay kustomization</td>
      <td><code class="language-plaintext highlighter-rouge">latest</code>, <code class="language-plaintext highlighter-rouge">v1.3.4</code></td>
    </tr>
  </tbody>
</table>

<h3 id="image-configuration">Image Configuration:</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># k8s/overlays/production/kustomization.yaml</span>
<span class="na">images</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">ghcr.io/cdot65/prisma-airs-mcp</span>
  <span class="na">newTag</span><span class="pi">:</span> <span class="s">v1.3.4</span>
</code></pre></div></div>

<h2 id="-file-locations-summary">üìÅ File Locations Summary</h2>

<h3 id="base-configuration">Base Configuration</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">k8s/base/kustomization.yaml</code> - Namespace, base ConfigMap</li>
  <li><code class="language-plaintext highlighter-rouge">k8s/base/deployment.yaml</code> - Core deployment spec</li>
  <li><code class="language-plaintext highlighter-rouge">k8s/base/service.yaml</code> - Service configuration</li>
  <li><code class="language-plaintext highlighter-rouge">k8s/base/ingressroute.yaml</code> - Ingress routing</li>
</ul>

<h3 id="environment-overlays">Environment Overlays</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">k8s/overlays/development/</code> - Dev-specific configs</li>
  <li><code class="language-plaintext highlighter-rouge">k8s/overlays/staging/</code> - Staging configs</li>
  <li><code class="language-plaintext highlighter-rouge">k8s/overlays/production/</code> - Production configs</li>
</ul>

<h3 id="scripts">Scripts</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">k8s/scripts/deploy.sh</code> - Main deployment script</li>
  <li><code class="language-plaintext highlighter-rouge">k8s/scripts/manage-secrets.sh</code> - API key management</li>
  <li><code class="language-plaintext highlighter-rouge">k8s/scripts/create-registry-secret.sh</code> - Registry access</li>
  <li><code class="language-plaintext highlighter-rouge">scripts/deploy-production.sh</code> - Full production deployment</li>
</ul>

<h2 id="-deployment-commands">üöÄ Deployment Commands</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Quick deployment to different environments</span>
pnpm run deploy:quick:dev      <span class="c"># Development</span>
pnpm run deploy:quick:staging  <span class="c"># Staging</span>
pnpm run deploy:prod           <span class="c"># Production (latest)</span>
pnpm run deploy:prod:version   <span class="c"># Production with version</span>

<span class="c"># Manual deployment</span>
./k8s/scripts/deploy.sh deploy &lt;environment&gt;

<span class="c"># Rollback</span>
pnpm run k8s:rollback
</code></pre></div></div>

<h2 id="-pre-deployment-checklist">‚úÖ Pre-Deployment Checklist</h2>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Set <code class="language-plaintext highlighter-rouge">CR_PAT</code> or <code class="language-plaintext highlighter-rouge">GITHUB_TOKEN</code> environment variable</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Update API key in secrets</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Configure profile name/ID in ConfigMap</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Update namespace if different from <code class="language-plaintext highlighter-rouge">prisma-airs</code></li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Adjust resource limits for your cluster</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Update ingress domain and path</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Verify TLS certificate exists</li>
</ul>

<h2 id="-verification-commands">üîç Verification Commands</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check deployment</span>
kubectl get all <span class="nt">-n</span> &lt;namespace&gt;

<span class="c"># Verify secrets</span>
kubectl get secrets <span class="nt">-n</span> &lt;namespace&gt;

<span class="c"># Check ConfigMaps</span>
kubectl get configmap <span class="nt">-n</span> &lt;namespace&gt;

<span class="c"># View pod environment</span>
kubectl <span class="nb">exec</span> <span class="nt">-it</span> &lt;pod-name&gt; <span class="nt">-n</span> &lt;namespace&gt; <span class="nt">--</span> <span class="nb">env</span> | <span class="nb">grep </span>AIRS

<span class="c"># Check logs</span>
kubectl logs <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>prisma-airs-mcp <span class="nt">-n</span> &lt;namespace&gt;

<span class="c"># Test endpoint</span>
curl https://&lt;your-domain&gt;/&lt;your-path&gt;/health
</code></pre></div></div>

<h2 id="Ô∏è-common-configuration-scenarios">üõ†Ô∏è Common Configuration Scenarios</h2>

<h3 id="scenario-1-different-api-endpoint">Scenario 1: Different API Endpoint</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># k8s/overlays/development/kustomization.yaml</span>
<span class="na">literals</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">airs.api.url=https://dev-api.aisecurity.example.com</span>
</code></pre></div></div>

<h3 id="scenario-2-custom-profile">Scenario 2: Custom Profile</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># k8s/overlays/production/kustomization.yaml</span>
<span class="na">literals</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">airs.default.profile.id=prod-profile-12345</span>
</code></pre></div></div>

<h3 id="scenario-3-increased-rate-limits">Scenario 3: Increased Rate Limits</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># k8s/overlays/development/kustomization.yaml</span>
<span class="na">literals</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">rate.limit.max.requests=500</span>
<span class="pi">-</span> <span class="s">rate.limit.window.ms=60000</span>
</code></pre></div></div>

<h3 id="scenario-4-custom-registry">Scenario 4: Custom Registry</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># k8s/overlays/production/kustomization.yaml</span>
<span class="na">images</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">ghcr.io/cdot65/prisma-airs-mcp</span>
  <span class="na">newName</span><span class="pi">:</span> <span class="s">my-registry.com/my-org/prisma-airs-mcp</span>
  <span class="na">newTag</span><span class="pi">:</span> <span class="s">v1.3.4</span>
</code></pre></div></div>

</body>
</html>