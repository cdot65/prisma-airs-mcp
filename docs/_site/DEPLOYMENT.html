<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Deployment Guide - Prisma AIRS MCP</title>
  <meta name="description" content="AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection">
  
  <!-- SEO -->
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Deployment Guide" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection" />
<meta property="og:description" content="AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection" />
<link rel="canonical" href="https://cdot65.github.io/prisma-airs-mcp/DEPLOYMENT.html" />
<meta property="og:url" content="https://cdot65.github.io/prisma-airs-mcp/DEPLOYMENT.html" />
<meta property="og:site_name" content="Prisma AIRS MCP" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Deployment Guide" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection","headline":"Deployment Guide","url":"https://cdot65.github.io/prisma-airs-mcp/DEPLOYMENT.html"}</script>
<!-- End Jekyll SEO tag -->

  
  <!-- CSS -->
  <link rel="stylesheet" href="/prisma-airs-mcp/assets/css/style.css">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/prisma-airs-mcp/assets/favicon.png">
</head>
<body>
  <h1 id="deployment-guide">Deployment Guide</h1>

<p>This guide covers deploying the Prisma AIRS MCP Server using the pre-built container images from GitHub Container Registry.</p>

<h2 id="container-images">Container Images</h2>

<p>Pre-built images are available at <code class="language-plaintext highlighter-rouge">ghcr.io/cdot65/prisma-airs-mcp</code>:</p>

<table>
  <thead>
    <tr>
      <th>Tag</th>
      <th>Platform</th>
      <th>Use Case</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">latest</code></td>
      <td>linux/amd64</td>
      <td>Production deployment on Intel/AMD Kubernetes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">dev</code></td>
      <td>linux/arm64</td>
      <td>Development on Apple Silicon Macs</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">vX.Y.Z</code></td>
      <td>Multi-platform</td>
      <td>Specific version for production</td>
    </tr>
  </tbody>
</table>

<h2 id="quick-start">Quick Start</h2>

<h3 id="pull-the-image">Pull the Image</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># For production (AMD64)</span>
docker pull ghcr.io/cdot65/prisma-airs-mcp:latest

<span class="c"># For Apple Silicon development</span>
docker pull ghcr.io/cdot65/prisma-airs-mcp:dev

<span class="c"># Specific version (multi-platform)</span>
docker pull ghcr.io/cdot65/prisma-airs-mcp:v1.0.0
</code></pre></div></div>

<h3 id="run-with-docker">Run with Docker</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create environment file</span>
<span class="nb">cat</span> <span class="o">&gt;</span> .env <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
AIRS_API_URL=https://api.prismaairs.example.com
AIRS_API_KEY=your-api-key-here
</span><span class="no">EOF

</span><span class="c"># Run production container (AMD64)</span>
docker run <span class="nt">-d</span> <span class="se">\</span>
  <span class="nt">--name</span> prisma-airs-mcp <span class="se">\</span>
  <span class="nt">-p</span> 3000:3000 <span class="se">\</span>
  <span class="nt">--env-file</span> .env <span class="se">\</span>
  <span class="nt">--restart</span> unless-stopped <span class="se">\</span>
  ghcr.io/cdot65/prisma-airs-mcp:latest

<span class="c"># Run development container (ARM64/Apple Silicon)</span>
docker run <span class="nt">-d</span> <span class="se">\</span>
  <span class="nt">--name</span> prisma-airs-mcp-dev <span class="se">\</span>
  <span class="nt">-p</span> 3000:3000 <span class="se">\</span>
  <span class="nt">--env-file</span> .env <span class="se">\</span>
  ghcr.io/cdot65/prisma-airs-mcp:dev
</code></pre></div></div>

<h2 id="kubernetes-deployment">Kubernetes Deployment</h2>

<h3 id="using-kubectl">Using kubectl</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># deployment.yaml</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">prisma-airs-mcp</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">prisma-airs-mcp</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">2</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">prisma-airs-mcp</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">prisma-airs-mcp</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">app</span>
          <span class="na">image</span><span class="pi">:</span> <span class="s">ghcr.io/cdot65/prisma-airs-mcp:latest</span>
          <span class="na">ports</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">3000</span>
          <span class="na">env</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">NODE_ENV</span>
              <span class="na">value</span><span class="pi">:</span> <span class="s1">'</span><span class="s">production'</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">AIRS_API_URL</span>
              <span class="na">valueFrom</span><span class="pi">:</span>
                <span class="na">configMapKeyRef</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span> <span class="s">prisma-airs-config</span>
                  <span class="na">key</span><span class="pi">:</span> <span class="s">api-url</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">AIRS_API_KEY</span>
              <span class="na">valueFrom</span><span class="pi">:</span>
                <span class="na">secretKeyRef</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span> <span class="s">prisma-airs-secret</span>
                  <span class="na">key</span><span class="pi">:</span> <span class="s">api-key</span>
          <span class="na">resources</span><span class="pi">:</span>
            <span class="na">limits</span><span class="pi">:</span>
              <span class="na">cpu</span><span class="pi">:</span> <span class="s">1000m</span>
              <span class="na">memory</span><span class="pi">:</span> <span class="s">512Mi</span>
            <span class="na">requests</span><span class="pi">:</span>
              <span class="na">cpu</span><span class="pi">:</span> <span class="s">250m</span>
              <span class="na">memory</span><span class="pi">:</span> <span class="s">128Mi</span>
          <span class="na">livenessProbe</span><span class="pi">:</span>
            <span class="na">httpGet</span><span class="pi">:</span>
              <span class="na">path</span><span class="pi">:</span> <span class="s">/health</span>
              <span class="na">port</span><span class="pi">:</span> <span class="m">3000</span>
            <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="m">10</span>
            <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">30</span>
          <span class="na">readinessProbe</span><span class="pi">:</span>
            <span class="na">httpGet</span><span class="pi">:</span>
              <span class="na">path</span><span class="pi">:</span> <span class="s">/ready</span>
              <span class="na">port</span><span class="pi">:</span> <span class="m">3000</span>
            <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="m">5</span>
            <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">10</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">prisma-airs-mcp</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">prisma-airs-mcp</span>
  <span class="na">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="m">80</span>
      <span class="na">targetPort</span><span class="pi">:</span> <span class="m">3000</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">ClusterIP</span>
</code></pre></div></div>

<h3 id="apply-the-deployment">Apply the deployment:</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create ConfigMap</span>
kubectl create configmap prisma-airs-config <span class="se">\</span>
  <span class="nt">--from-literal</span><span class="o">=</span>api-url<span class="o">=</span>https://api.prismaairs.example.com

<span class="c"># Create Secret</span>
kubectl create secret generic prisma-airs-secret <span class="se">\</span>
  <span class="nt">--from-literal</span><span class="o">=</span>api-key<span class="o">=</span>your-api-key-here

<span class="c"># Deploy</span>
kubectl apply <span class="nt">-f</span> deployment.yaml

<span class="c"># Check deployment</span>
kubectl rollout status deployment/prisma-airs-mcp
kubectl get pods <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>prisma-airs-mcp
</code></pre></div></div>

<h2 id="docker-compose">Docker Compose</h2>

<p>For local development or testing:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># docker-compose.yml</span>
<span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.8'</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="c1"># Use pre-built production image</span>
  <span class="na">prod</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">ghcr.io/cdot65/prisma-airs-mcp:latest</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">prisma-airs-mcp</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">3000:3000'</span>
    <span class="na">env_file</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">.env</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">healthcheck</span><span class="pi">:</span>
      <span class="na">test</span><span class="pi">:</span>
        <span class="pi">[</span>
          <span class="s1">'</span><span class="s">CMD'</span><span class="pi">,</span>
          <span class="s1">'</span><span class="s">node'</span><span class="pi">,</span>
          <span class="s1">'</span><span class="s">-e'</span><span class="pi">,</span>
          <span class="s2">"</span><span class="s">require('http').get('http://localhost:3000/health',</span><span class="nv"> </span><span class="s">(res)</span><span class="nv"> </span><span class="s">=&gt;</span><span class="nv"> </span><span class="s">{</span><span class="nv"> </span><span class="s">process.exit(res.statusCode</span><span class="nv"> </span><span class="s">===</span><span class="nv"> </span><span class="s">200</span><span class="nv"> </span><span class="s">?</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">:</span><span class="nv"> </span><span class="s">1);</span><span class="nv"> </span><span class="s">});"</span><span class="pi">,</span>
        <span class="pi">]</span>
      <span class="na">interval</span><span class="pi">:</span> <span class="s">30s</span>
      <span class="na">timeout</span><span class="pi">:</span> <span class="s">3s</span>
      <span class="na">retries</span><span class="pi">:</span> <span class="m">3</span>

  <span class="c1"># Use pre-built dev image (Apple Silicon)</span>
  <span class="na">dev</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">ghcr.io/cdot65/prisma-airs-mcp:dev</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">prisma-airs-mcp-dev</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">3000:3000'</span>
    <span class="na">env_file</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">.env</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="c1"># Optional: mount local config</span>
      <span class="pi">-</span> <span class="s">./config:/app/config:ro</span>
</code></pre></div></div>

<h2 id="environment-variables">Environment Variables</h2>

<p>Required environment variables:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Prisma AIRS Configuration</span>
<span class="nv">AIRS_API_URL</span><span class="o">=</span>https://api.prismaairs.example.com
<span class="nv">AIRS_API_KEY</span><span class="o">=</span>your-api-key-here

<span class="c"># Server Configuration (optional)</span>
<span class="nv">NODE_ENV</span><span class="o">=</span>production
<span class="nv">PORT</span><span class="o">=</span>3000
<span class="nv">LOG_LEVEL</span><span class="o">=</span>info

<span class="c"># Cache Configuration (optional)</span>
<span class="nv">CACHE_ENABLED</span><span class="o">=</span><span class="nb">true
</span><span class="nv">CACHE_TTL_SECONDS</span><span class="o">=</span>300
<span class="nv">CACHE_MAX_SIZE</span><span class="o">=</span>1000

<span class="c"># Rate Limiting (optional)</span>
<span class="nv">RATE_LIMIT_ENABLED</span><span class="o">=</span><span class="nb">true
</span><span class="nv">RATE_LIMIT_MAX_REQUESTS</span><span class="o">=</span>100
<span class="nv">RATE_LIMIT_WINDOW_MS</span><span class="o">=</span>60000
</code></pre></div></div>

<h2 id="health-checks">Health Checks</h2>

<p>The service provides health check endpoints:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/health</code> - Basic health check</li>
  <li><code class="language-plaintext highlighter-rouge">/ready</code> - Readiness probe (checks AIRS connectivity)</li>
</ul>

<h2 id="monitoring">Monitoring</h2>

<h3 id="view-logs">View Logs</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Docker</span>
docker logs <span class="nt">-f</span> prisma-airs-mcp

<span class="c"># Kubernetes</span>
kubectl logs <span class="nt">-f</span> deployment/prisma-airs-mcp
</code></pre></div></div>

<h3 id="metrics">Metrics</h3>

<p>The application logs structured JSON that can be collected by:</p>

<ul>
  <li>ELK Stack (Elasticsearch, Logstash, Kibana)</li>
  <li>Prometheus + Grafana</li>
  <li>CloudWatch Logs</li>
  <li>Datadog</li>
</ul>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="container-wont-start">Container wonâ€™t start</h3>

<ol>
  <li>Check environment variables are set correctly</li>
  <li>Verify AIRS API credentials</li>
  <li>Check container logs for errors</li>
</ol>

<h3 id="connection-issues">Connection issues</h3>

<ol>
  <li>Verify network connectivity to AIRS API</li>
  <li>Check firewall rules</li>
  <li>Ensure correct PORT is exposed</li>
</ol>

<h3 id="platform-mismatch-warnings">Platform mismatch warnings</h3>

<p>If you see platform warnings when running on different architectures:</p>

<ul>
  <li>Use <code class="language-plaintext highlighter-rouge">:latest</code> for AMD64/Intel systems</li>
  <li>Use <code class="language-plaintext highlighter-rouge">:dev</code> for ARM64/Apple Silicon</li>
  <li>Use versioned tags for multi-platform support</li>
</ul>

<h2 id="security-considerations">Security Considerations</h2>

<ol>
  <li>Always use secrets for API keys</li>
  <li>Run containers as non-root user (already configured)</li>
  <li>Use read-only root filesystem where possible</li>
  <li>Implement network policies in Kubernetes</li>
  <li>Regular image updates for security patches</li>
</ol>

<h2 id="support">Support</h2>

<p>For issues or questions:</p>

<ul>
  <li>GitHub Issues: https://github.com/cdot65/prisma-airs-mcp/issues</li>
  <li>Documentation: https://github.com/cdot65/prisma-airs-mcp#readme</li>
</ul>

</body>
</html>