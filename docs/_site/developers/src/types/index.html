<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Types Module | Prisma AIRS MCP</title>
  <meta name="description" content="AI Runtime Security through Model Context Protocol - Secure your AI applications with enterprise-grade threat detection">
  
  <!-- SEO Tags -->
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Types Module | Prisma AIRS MCP</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Types Module" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Type Definitions (src/types/)" />
<meta property="og:description" content="Type Definitions (src/types/)" />
<link rel="canonical" href="http://localhost:4000/developers/src/types/" />
<meta property="og:url" content="http://localhost:4000/developers/src/types/" />
<meta property="og:site_name" content="Prisma AIRS MCP" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Types Module" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Type Definitions (src/types/)","headline":"Types Module","url":"http://localhost:4000/developers/src/types/"}</script>
<!-- End Jekyll SEO tag -->

  
  <!-- Styles -->
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Rouge syntax highlighting is handled by Jekyll -->
  
  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png">
</head>
<body>
  <nav class="navbar">
    <div class="container">
      <div class="navbar-brand">
        <a href="/" class="navbar-logo">
          <i class="fas fa-shield-alt"></i>
          Prisma AIRS MCP
        </a>
      </div>
      <div class="navbar-menu">
        <a href="/deployment" class="navbar-item ">Deployment</a>
        <a href="/developers" class="navbar-item active">Developers</a>
        <a href="/prisma-airs/overview" class="navbar-item ">Prisma AIRS</a>
        <a href="https://github.com/cdot65/prisma-airs-mcp" class="navbar-item">
          <i class="fab fa-github"></i>
        </a>
      </div>
    </div>
  </nav>

  <div class="documentation-layout">
    <aside class="sidebar">
      
<nav class="sidebar-nav">
  <h4>Getting Started</h4>
  <ul>
    <li><a href="/developers/overview/" >Overview</a></li>
  </ul>
  
  <h4>Source Code Documentation</h4>
  <ul>
    <li><a href="/developers/src/" >Root (src/)</a></li>
    <li><a href="/developers/src/types/" class="active">Types Module</a></li>
    <li><a href="/developers/src/airs/" >AIRS Module</a></li>
    <li><a href="/developers/src/config/" >Configuration</a></li>
    <li><a href="/developers/src/prompts/" >Prompts</a></li>
    <li><a href="/developers/src/resources/" >Resources</a></li>
    <li><a href="/developers/src/tools/" >Tools</a></li>
    <li><a href="/developers/src/transport/" >Transport</a></li>
    <li><a href="/developers/src/utils/" >Utilities</a></li>
  </ul>
  
  <h4>API</h4>
  <ul>
    <li><a href="/developers/api/" >API Reference</a></li>
  </ul>
  
  <h4>Release Notes</h4>
  <ul>
    <li><a href="/developers/release-notes/" >Version History</a></li>
  </ul>
</nav>



<style>
.sidebar-nav {
  padding: var(--spacing-md);
}

.sidebar-nav h4 {
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--gray);
  margin-bottom: var(--spacing-sm);
  margin-top: var(--spacing-lg);
}

.sidebar-nav h4:first-child {
  margin-top: 0;
}

.sidebar-nav ul {
  list-style: none;
  padding: 0;
  margin: 0 0 var(--spacing-md) 0;
}

.sidebar-nav li {
  margin-bottom: var(--spacing-xs);
}

.sidebar-nav a {
  display: block;
  padding: var(--spacing-xs) var(--spacing-sm);
  color: var(--dark);
  border-radius: var(--border-radius);
  font-size: 0.9375rem;
  transition: all 0.2s ease;
}

.sidebar-nav a:hover {
  background-color: var(--gray-light);
  text-decoration: none;
}

.sidebar-nav a.active {
  background-color: var(--primary);
  color: var(--white);
  font-weight: 500;
}

.sidebar-nav a.active:hover {
  background-color: var(--primary-dark);
}
</style>
    </aside>
    
    <main class="documentation-content">
      <div class="content-header">
        <h1>Types Module</h1>
        
      </div>
      
      <article class="content">
        <h1 id="type-definitions-srctypes">Type Definitions (src/types/)</h1>

<p>The Types module provides a centralized location for all TypeScript type definitions used throughout the Prisma AIRS MCP
server. This architectural decision ensures type consistency, prevents circular dependencies, and provides a single
source of truth for all type definitions.</p>

<h2 id="module-structure">Module Structure</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>src/types/
├── index.ts      # Central export point (re-exports all types)
├── airs.ts       # AIRS API types (Airs* prefix)
├── config.ts     # Configuration types (Config* prefix)
├── mcp.ts        # MCP protocol types (Mcp* prefix)
├── tools.ts      # Tool handler types (Tools* prefix)
└── transport.ts  # HTTP/SSE transport types (Transport* prefix)
</code></pre></div></div>

<h2 id="architecture-overview">Architecture Overview</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>┌─────────────────────────────────────────┐
│        Application Modules              │
│  (tools, resources, transport, etc.)    │
└─────────────────┬───────────────────────┘
                  │
                  │ import type {...} from '../types'
                  ▼
┌─────────────────────────────────────────┐
│         src/types/index.ts              │
│    Central re-export of all types       │
└─────────────────┬───────────────────────┘
                  │
        ┌─────────┴─────────┬─────────────┬──────────────┬────────────┐
        │                   │             │              │            │
┌───────▼────────┐ ┌────────▼──────┐ ┌────▼────┐ ┌───────▼──────┐ ┌───▼────────┐
│   airs.ts      │ │  config.ts    │ │mcp.ts   │ │ tools.ts     │ │transport   │
│ • Airs* types  │ │ • Config*     │ │• Mcp*   │ │ • Tools*     │ │• Transport*│
└────────────────┘ └───────────────┘ └─────────┘ └──────────────┘ └────────────┘
</code></pre></div></div>

<h2 id="naming-conventions">Naming Conventions</h2>

<p>All types are prefixed with their module name to avoid naming conflicts:</p>

<ul>
  <li><strong>AIRS types</strong>: <code class="language-plaintext highlighter-rouge">Airs*</code> (e.g., <code class="language-plaintext highlighter-rouge">AirsScanRequest</code>, <code class="language-plaintext highlighter-rouge">AirsScanResponse</code>)</li>
  <li><strong>Config types</strong>: <code class="language-plaintext highlighter-rouge">Config*</code> (e.g., <code class="language-plaintext highlighter-rouge">Config</code>, <code class="language-plaintext highlighter-rouge">ConfigServerOptions</code>)</li>
  <li><strong>MCP types</strong>: <code class="language-plaintext highlighter-rouge">Mcp*</code> (e.g., <code class="language-plaintext highlighter-rouge">McpTool</code>, <code class="language-plaintext highlighter-rouge">McpResource</code>)</li>
  <li><strong>Tools types</strong>: <code class="language-plaintext highlighter-rouge">Tools*</code> (e.g., <code class="language-plaintext highlighter-rouge">ToolsScanContentArgs</code>)</li>
  <li><strong>Transport types</strong>: <code class="language-plaintext highlighter-rouge">Transport*</code> (e.g., <code class="language-plaintext highlighter-rouge">TransportJsonRpcRequest</code>)</li>
</ul>

<h2 id="type-categories">Type Categories</h2>

<h3 id="airs-types-airsts">AIRS Types (<code class="language-plaintext highlighter-rouge">airs.ts</code>)</h3>

<p>Types for interacting with the Prisma AIRS security API.</p>

<h4 id="core-requestresponse-types">Core Request/Response Types</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Synchronous scan request</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsScanRequest</span> <span class="p">{</span>
    <span class="nl">tr_id</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>                    <span class="c1">// Transaction ID</span>
    <span class="nl">ai_profile</span><span class="p">:</span> <span class="nx">AirsAiProfile</span><span class="p">;</span>         <span class="c1">// Security profile</span>
    <span class="nl">metadata</span><span class="p">?:</span> <span class="nx">AirsMetadata</span><span class="p">;</span>           <span class="c1">// Request metadata</span>
    <span class="nl">contents</span><span class="p">:</span> <span class="nx">AirsContentItem</span><span class="p">[];</span>       <span class="c1">// Content to scan</span>
<span class="p">}</span>

<span class="c1">// AI Profile configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsAiProfile</span> <span class="p">{</span>
    <span class="nl">profile_id</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">profile_name</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Content item for scanning</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsContentItem</span> <span class="p">{</span>
    <span class="nl">prompt</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">response</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">code_prompt</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">code_response</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">context</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Scan response with security findings</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsScanResponse</span> <span class="p">{</span>
    <span class="nl">report_id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">scan_id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">tr_id</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">profile_id</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">profile_name</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">category</span><span class="p">:</span> <span class="dl">'</span><span class="s1">malicious</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">benign</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">block</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">allow</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">prompt_detected</span><span class="p">?:</span> <span class="nx">AirsPromptDetected</span><span class="p">;</span>
    <span class="nl">response_detected</span><span class="p">?:</span> <span class="nx">AirsResponseDetected</span><span class="p">;</span>
    <span class="nl">ml_metadata</span><span class="p">?:</span> <span class="nx">AirsMlMetadata</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="asynchronous-operations">Asynchronous Operations</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Async scan request</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsAsyncScanObject</span> <span class="p">{</span>
    <span class="nl">scan_uuid</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">scan_type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Prompt</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">Response</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">text</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">profile_name</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Async scan response</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsAsyncScanResponse</span> <span class="p">{</span>
    <span class="nl">message</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">scan_ids</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="c1">// Scan result retrieval</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsScanIdResult</span> <span class="p">{</span>
    <span class="nl">scan_id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">complete</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">in_progress</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">failed</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">result</span><span class="p">?:</span> <span class="nx">AirsScanResponse</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="configuration-types">Configuration Types</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Enhanced client configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsEnhancedClientConfig</span> <span class="kd">extends</span> <span class="nx">AirsClientConfig</span> <span class="p">{</span>
    <span class="nl">cache</span><span class="p">?:</span> <span class="nx">AirsCacheConfig</span><span class="p">;</span>
    <span class="nl">rateLimiter</span><span class="p">?:</span> <span class="nx">AirsRateLimiterConfig</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Cache configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsCacheConfig</span> <span class="p">{</span>
    <span class="nl">ttlSeconds</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">maxSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">enabled</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Rate limiter configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsRateLimiterConfig</span> <span class="p">{</span>
    <span class="nl">maxRequests</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">windowMs</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">enabled</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="mcp-types-mcpts">MCP Types (<code class="language-plaintext highlighter-rouge">mcp.ts</code>)</h3>

<p>Types implementing the Model Context Protocol specification.</p>

<h4 id="resource-management">Resource Management</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Resource definition</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpResource</span> <span class="p">{</span>
    <span class="nl">uri</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">description</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">mimeType</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Resource template for dynamic resources</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpResourceTemplate</span> <span class="p">{</span>
    <span class="nl">uriTemplate</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">description</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">mimeType</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Resource operations</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpResourcesListParams</span> <span class="p">{</span>
    <span class="nl">cursor</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpResourcesListResult</span> <span class="p">{</span>
    <span class="nl">resources</span><span class="p">:</span> <span class="nx">McpResource</span><span class="p">[];</span>
    <span class="nl">nextCursor</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="tool-definitions">Tool Definitions</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Tool definition with JSON Schema</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpTool</span> <span class="p">{</span>
    <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">description</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">inputSchema</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">object</span><span class="dl">'</span><span class="p">;</span>
        <span class="nl">properties</span><span class="p">?:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="nx">unknown</span><span class="o">&gt;</span><span class="p">;</span>
        <span class="nl">required</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[];</span>
        <span class="nl">additionalProperties</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Tool execution</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpToolsCallParams</span> <span class="p">{</span>
    <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">arguments</span><span class="p">?:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="nx">unknown</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpToolResultContent</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">image</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">resource</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">text</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">data</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">mimeType</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="prompt-templates">Prompt Templates</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Prompt definition</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpPrompt</span> <span class="p">{</span>
    <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">description</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">arguments</span><span class="p">?:</span> <span class="nx">McpPromptArgument</span><span class="p">[];</span>
<span class="p">}</span>

<span class="c1">// Prompt argument</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpPromptArgument</span> <span class="p">{</span>
    <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">description</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">required</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Prompt message</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">McpPromptMessage</span> <span class="p">{</span>
    <span class="nl">role</span><span class="p">:</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">assistant</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">content</span><span class="p">:</span> <span class="nx">McpPromptContent</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="transport-types-transportts">Transport Types (<code class="language-plaintext highlighter-rouge">transport.ts</code>)</h3>

<p>Types for HTTP and SSE transport layers.</p>

<h4 id="json-rpc-types">JSON-RPC Types</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// JSON-RPC 2.0 request</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">TransportJsonRpcRequest</span> <span class="p">{</span>
    <span class="nl">jsonrpc</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2.0</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">method</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">params</span><span class="p">?:</span> <span class="nx">unknown</span><span class="p">;</span>
    <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kr">number</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// JSON-RPC 2.0 response</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">TransportJsonRpcResponse</span> <span class="p">{</span>
    <span class="nl">jsonrpc</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2.0</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">result</span><span class="p">?:</span> <span class="nx">unknown</span><span class="p">;</span>
    <span class="nl">error</span><span class="p">?:</span> <span class="nx">TransportJsonRpcError</span><span class="p">;</span>
    <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kr">number</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Express request with streaming support</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">TransportStreamableRequest</span> <span class="kd">extends</span> <span class="nx">Request</span> <span class="p">{</span>
    <span class="nl">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="nx">accept</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
        <span class="dl">'</span><span class="s1">last-event-id</span><span class="dl">'</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
        <span class="dl">'</span><span class="s1">mcp-session-id</span><span class="dl">'</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="p">}</span> <span class="o">&amp;</span> <span class="nx">Request</span><span class="p">[</span><span class="dl">'</span><span class="s1">headers</span><span class="dl">'</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="server-sent-events">Server-Sent Events</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// SSE message format</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">TransportSSEMessage</span> <span class="p">{</span>
    <span class="nl">id</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">event</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">data</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">retry</span><span class="p">?:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="configuration-types-configts">Configuration Types (<code class="language-plaintext highlighter-rouge">config.ts</code>)</h3>

<p>Types for application configuration with comprehensive settings.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Main configuration structure</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">Config</span> <span class="p">{</span>
    <span class="nl">server</span><span class="p">:</span> <span class="nx">ConfigServer</span><span class="p">;</span>
    <span class="nl">airs</span><span class="p">:</span> <span class="nx">ConfigAirs</span><span class="p">;</span>
    <span class="nl">cache</span><span class="p">:</span> <span class="nx">ConfigCache</span><span class="p">;</span>
    <span class="nl">rateLimit</span><span class="p">:</span> <span class="nx">ConfigRateLimit</span><span class="p">;</span>
    <span class="nl">mcp</span><span class="p">:</span> <span class="nx">ConfigMcp</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Server configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ConfigServer</span> <span class="p">{</span>
    <span class="nl">port</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">environment</span><span class="p">:</span> <span class="dl">'</span><span class="s1">development</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">test</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">logLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">warn</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">info</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">debug</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Prisma AIRS configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ConfigAirs</span> <span class="p">{</span>
    <span class="nl">apiUrl</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">apiKey</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">timeout</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">retryAttempts</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">retryDelay</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">defaultProfileId</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">defaultProfileName</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Cache configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ConfigCache</span> <span class="p">{</span>
    <span class="nl">ttlSeconds</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">maxSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">enabled</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Rate limiting configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ConfigRateLimit</span> <span class="p">{</span>
    <span class="nl">maxRequests</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">windowMs</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">enabled</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// MCP protocol configuration</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ConfigMcp</span> <span class="p">{</span>
    <span class="nl">serverName</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">serverVersion</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">protocolVersion</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="tool-handler-types-toolsts">Tool Handler Types (<code class="language-plaintext highlighter-rouge">tools.ts</code>)</h3>

<p>Types specific to tool implementations.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Scan content arguments</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ToolsScanContentArgs</span> <span class="p">{</span>
    <span class="nl">prompt</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">response</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">context</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">profileName</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">profileId</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">metadata</span><span class="p">?:</span> <span class="p">{</span>
        <span class="nx">appName</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
        <span class="nl">appUser</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
        <span class="nl">aiModel</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
        <span class="nl">userIp</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Async scan request item</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ToolsAsyncScanRequestItem</span> <span class="p">{</span>
    <span class="nl">reqId</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">prompt</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">response</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">context</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">profileName</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">profileId</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Async scan arguments</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ToolsScanAsyncArgs</span> <span class="p">{</span>
    <span class="nl">requests</span><span class="p">:</span> <span class="nx">ToolsAsyncScanRequestItem</span><span class="p">[];</span>
<span class="p">}</span>

<span class="c1">// Get scan results arguments</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ToolsGetScanResultsArgs</span> <span class="p">{</span>
    <span class="nl">scanIds</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="c1">// Get threat reports arguments</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ToolsGetThreatReportsArgs</span> <span class="p">{</span>
    <span class="nl">reportIds</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="c1">// Type alias for scan responses with threat detection</span>
<span class="k">export</span> <span class="kd">type</span> <span class="nx">ToolsScanResponseWithDetected</span> <span class="o">=</span> <span class="nx">AirsScanResponse</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="import-patterns">Import Patterns</h2>

<h3 id="importing-types">Importing Types</h3>

<p>Always use type imports for better tree-shaking:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Import specific types</span>
<span class="k">import</span> <span class="kd">type</span> <span class="p">{</span><span class="nx">AirsScanRequest</span><span class="p">,</span> <span class="nx">AirsScanResponse</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../types</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Import namespaced types</span>
<span class="k">import</span> <span class="kd">type</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">Types</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../types</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Use in code</span>
<span class="kd">const</span> <span class="nx">request</span><span class="p">:</span> <span class="nx">AirsScanRequest</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">prompt</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Check this content</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">profile_name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">default</span><span class="dl">'</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="type-guards">Type Guards</h3>

<p>Create type guards for runtime type checking:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="kd">type</span> <span class="p">{</span><span class="nx">AirsScanResponse</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../types</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">isAirsScanResponse</span><span class="p">(</span><span class="nx">obj</span><span class="p">:</span> <span class="nx">unknown</span><span class="p">):</span> <span class="nx">obj</span> <span class="k">is</span> <span class="nx">AirsScanResponse</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="k">typeof</span> <span class="nx">obj</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">object</span><span class="dl">'</span> <span class="o">&amp;&amp;</span>
        <span class="nx">obj</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span>
        <span class="dl">'</span><span class="s1">scan_id</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">obj</span> <span class="o">&amp;&amp;</span>
        <span class="dl">'</span><span class="s1">detected</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">obj</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="best-practices">Best Practices</h2>

<h3 id="1-type-safety">1. Type Safety</h3>

<ul>
  <li>Always use strict type checking</li>
  <li>Avoid <code class="language-plaintext highlighter-rouge">any</code> types</li>
  <li>Use discriminated unions for variants</li>
  <li>Leverage TypeScript’s type narrowing</li>
</ul>

<h3 id="2-naming-consistency">2. Naming Consistency</h3>

<ul>
  <li>Follow the module prefix convention</li>
  <li>Use descriptive names</li>
  <li>Maintain consistency with API specifications</li>
  <li>Document complex types</li>
</ul>

<h3 id="3-type-organization">3. Type Organization</h3>

<ul>
  <li>Group related types together</li>
  <li>Export types at appropriate granularity</li>
  <li>Use index.ts for public API</li>
  <li>Keep internal types private</li>
</ul>

<h3 id="4-runtime-validation">4. Runtime Validation</h3>

<ul>
  <li>Use Zod schemas for runtime validation</li>
  <li>Create type guards for external data</li>
  <li>Validate at system boundaries</li>
  <li>Handle validation errors gracefully</li>
</ul>

<h2 id="integration-examples">Integration Examples</h2>

<h3 id="using-airs-types">Using AIRS Types</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="kd">type</span> <span class="p">{</span><span class="nx">AirsScanRequest</span><span class="p">,</span> <span class="nx">AirsScanResponse</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../types</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">EnhancedPrismaAirsClient</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../airs</span><span class="dl">'</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">scanContent</span><span class="p">(</span><span class="nx">content</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">AirsScanResponse</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EnhancedPrismaAirsClient</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

    <span class="kd">const</span> <span class="na">request</span><span class="p">:</span> <span class="nx">AirsScanRequest</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">prompt</span><span class="p">:</span> <span class="nx">content</span><span class="p">,</span>
        <span class="na">profile_name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">strict</span><span class="dl">'</span>
    <span class="p">};</span>

    <span class="k">return</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">scanSync</span><span class="p">(</span><span class="nx">request</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="implementing-mcp-tools">Implementing MCP Tools</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="kd">type</span> <span class="p">{</span><span class="nx">McpTool</span><span class="p">,</span> <span class="nx">McpToolsCallParams</span><span class="p">,</span> <span class="nx">McpToolsCallResult</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../types</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">scanTool</span><span class="p">:</span> <span class="nx">McpTool</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">airs_scan_content</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Scan content for security threats</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">inputSchema</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">object</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">properties</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">prompt</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">string</span><span class="dl">'</span><span class="p">},</span>
            <span class="na">response</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">string</span><span class="dl">'</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="na">additionalProperties</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">callTool</span><span class="p">(</span><span class="nx">params</span><span class="p">:</span> <span class="nx">McpToolsCallParams</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">McpToolsCallResult</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="c1">// Implementation</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="transport-layer-usage">Transport Layer Usage</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="kd">type</span> <span class="p">{</span>
    <span class="nx">TransportJsonRpcRequest</span><span class="p">,</span>
    <span class="nx">TransportJsonRpcResponse</span><span class="p">,</span>
    <span class="nx">TransportStreamableRequest</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../types</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">HttpServerTransport</span> <span class="p">{</span>
    <span class="k">async</span> <span class="nx">handleRequest</span><span class="p">(</span>
        <span class="nx">req</span><span class="p">:</span> <span class="nx">TransportStreamableRequest</span><span class="p">,</span>
        <span class="nx">res</span><span class="p">:</span> <span class="nx">Response</span><span class="o">&lt;</span><span class="nx">TransportJsonRpcResponse</span><span class="o">&gt;</span>
    <span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="p">{</span><span class="nx">method</span><span class="p">,</span> <span class="nx">params</span><span class="p">,</span> <span class="nx">id</span><span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span> <span class="k">as</span> <span class="nx">TransportJsonRpcRequest</span><span class="p">;</span>

        <span class="k">try</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">routeRequest</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="nx">params</span><span class="p">);</span>
            <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span>
                <span class="na">jsonrpc</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2.0</span><span class="dl">'</span><span class="p">,</span>
                <span class="nx">result</span><span class="p">,</span>
                <span class="nx">id</span>
            <span class="p">});</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span>
                <span class="na">jsonrpc</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2.0</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">error</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">code</span><span class="p">:</span> <span class="o">-</span><span class="mi">32603</span><span class="p">,</span>
                    <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Internal error</span><span class="dl">'</span>
                <span class="p">},</span>
                <span class="nx">id</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="type-evolution">Type Evolution</h2>

<h3 id="adding-new-types">Adding New Types</h3>

<ol>
  <li><strong>Choose the correct file</strong> based on module domain</li>
  <li><strong>Follow naming conventions</strong> - prefix with module name</li>
  <li><strong>Export from module file</strong> - add export statement</li>
  <li><strong>Update index.ts</strong> - already re-exports with <code class="language-plaintext highlighter-rouge">export *</code></li>
  <li><strong>Document complex types</strong> - add JSDoc comments</li>
</ol>

<p>Example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In airs.ts</span>
<span class="cm">/**
 * New feature configuration
 */</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">AirsNewFeature</span> <span class="p">{</span>
    <span class="nl">enabled</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
    <span class="nl">options</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="nx">unknown</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="modifying-existing-types">Modifying Existing Types</h3>

<ol>
  <li><strong>Check usage</strong> - search for all references</li>
  <li><strong>Consider compatibility</strong> - avoid breaking changes</li>
  <li><strong>Update incrementally</strong> - use optional properties</li>
  <li><strong>Run type checking</strong> - <code class="language-plaintext highlighter-rouge">npm run typecheck</code></li>
  <li><strong>Test thoroughly</strong> - ensure no runtime errors</li>
</ol>

<h2 id="benefits-of-centralized-types">Benefits of Centralized Types</h2>

<ol>
  <li><strong>Single Source of Truth</strong> - All types in one location</li>
  <li><strong>Prevents Circular Dependencies</strong> - Modules import from types, not each other</li>
  <li><strong>Consistent Naming</strong> - Enforced prefixing prevents conflicts</li>
  <li><strong>Easy Discovery</strong> - All types accessible via single import</li>
  <li><strong>Better Refactoring</strong> - Change once, update everywhere</li>
</ol>

<h2 id="type-safety-patterns">Type Safety Patterns</h2>

<h3 id="using-type-guards">Using Type Guards</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="kd">type</span> <span class="p">{</span><span class="nx">AirsScanResponse</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../types</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">isAirsScanResponse</span><span class="p">(</span><span class="nx">obj</span><span class="p">:</span> <span class="nx">unknown</span><span class="p">):</span> <span class="nx">obj</span> <span class="k">is</span> <span class="nx">AirsScanResponse</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="k">typeof</span> <span class="nx">obj</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">object</span><span class="dl">'</span> <span class="o">&amp;&amp;</span>
        <span class="nx">obj</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span>
        <span class="dl">'</span><span class="s1">scan_id</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">obj</span> <span class="o">&amp;&amp;</span>
        <span class="dl">'</span><span class="s1">category</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">obj</span> <span class="o">&amp;&amp;</span>
        <span class="dl">'</span><span class="s1">action</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">obj</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="discriminated-unions">Discriminated Unions</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In transport.ts</span>
<span class="k">export</span> <span class="kd">type</span> <span class="nx">TransportMessage</span> <span class="o">=</span>
    <span class="o">|</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">;</span> <span class="nl">data</span><span class="p">:</span> <span class="nx">TransportJsonRpcRequest</span> <span class="p">}</span>
    <span class="o">|</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">response</span><span class="dl">'</span><span class="p">;</span> <span class="nl">data</span><span class="p">:</span> <span class="nx">TransportJsonRpcResponse</span> <span class="p">}</span>
    <span class="o">|</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span> <span class="nl">data</span><span class="p">:</span> <span class="nx">TransportJsonRpcError</span> <span class="p">};</span>
</code></pre></div></div>

<h3 id="utility-types">Utility Types</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Making all properties optional</span>
<span class="k">export</span> <span class="kd">type</span> <span class="nx">PartialAirsConfig</span> <span class="o">=</span> <span class="nb">Partial</span><span class="o">&lt;</span><span class="nx">AirsClientConfig</span><span class="o">&gt;</span><span class="p">;</span>

<span class="c1">// Picking specific properties</span>
<span class="k">export</span> <span class="kd">type</span> <span class="nx">AirsCredentials</span> <span class="o">=</span> <span class="nb">Pick</span><span class="o">&lt;</span><span class="nx">AirsClientConfig</span><span class="p">,</span> <span class="dl">'</span><span class="s1">apiUrl</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">apiKey</span><span class="dl">'</span><span class="o">&gt;</span><span class="p">;</span>

<span class="c1">// Omitting properties</span>
<span class="k">export</span> <span class="kd">type</span> <span class="nx">PublicAirsConfig</span> <span class="o">=</span> <span class="nx">Omit</span><span class="o">&lt;</span><span class="nx">AirsClientConfig</span><span class="p">,</span> <span class="dl">'</span><span class="s1">apiKey</span><span class="dl">'</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="dependencies">Dependencies</h2>

<p>The types module has no runtime dependencies and only development dependencies:</p>

<table>
  <thead>
    <tr>
      <th>Module</th>
      <th>Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>TypeScript</td>
      <td>Type checking and compilation</td>
    </tr>
    <tr>
      <td>@types/node</td>
      <td>Node.js type definitions</td>
    </tr>
    <tr>
      <td>@types/express</td>
      <td>Express type definitions (for transport types)</td>
    </tr>
  </tbody>
</table>

<h2 id="related-documentation">Related Documentation</h2>

<ul>
  <li><a href="/developers/src/airs/">AIRS Module</a> - AIRS client implementation</li>
  <li><a href="/developers/src/transport/">Transport Module</a> - HTTP/SSE transport</li>
  <li><a href="/developers/src/tools/">Tools Module</a> - Tool implementations</li>
  <li><a href="/developers/src/config/">Config Module</a> - Configuration management</li>
  <li><a href="/developers/src/resources/">Resources Module</a> - Resource handlers</li>
  <li><a href="/developers/src/prompts/">Prompts Module</a> - Prompt templates</li>
</ul>

<h2 id="summary">Summary</h2>

<p>The centralized types module is a critical architectural component that ensures type safety, consistency, and
maintainability across the entire Prisma AIRS MCP server codebase. By following the established naming conventions and
import patterns, developers can easily work with strongly-typed interfaces throughout the application.</p>

      </article>
      
      <div class="content-footer">
        <div class="edit-page">
          <a href="https://github.com/cdot65/prisma-airs-mcp/edit/main/docs/_developers/src/types.md">
            <i class="fas fa-edit"></i> Edit this page on GitHub
          </a>
        </div>
        
        
        <div class="pagination">
          
          
          <a href="/developers/src/utils/" class="next">
            Utils Module <i class="fas fa-arrow-right"></i>
          </a>
          
        </div>
        
      </div>
    </main>
    
    <aside class="toc">
      <h4>On this page</h4>
      <nav id="table-of-contents"></nav>
    </aside>
  </div>

  <!-- Syntax highlighting is handled by Jekyll Rouge -->
  <script src="/assets/js/main.js"></script>
</body>
</html>